# ğŸ¯ **Optimizing Google Ads Allocation with the Assignment Problem**

Google Ads is the **backbone of Google's revenue model**, enabling advertisers to bid for ad placements across Google services â€” like **Search**, **YouTube**, and **partner sites**.

Efficiently assigning ads to available slots is a high-impact optimization problem. The objective is to **maximize:**

- ğŸ’µ **Expected revenue**
- âœ… **User engagement**

This challenge maps to the classical **Assignment Problem**, represented as a **bipartite graph**:

---

## ğŸ¯ Bipartite Graph Representation

- **Left (Ads):**  
  Advertisers with:
  - Bid amounts  
  - Relevance scores  
  - Targeting info (keywords, demographics, etc.)

- **Right (Slots):**  
  Display locations based on:
  - User context (e.g., search query)  
  - Device type (mobile, desktop)  
  - Placement priority

- **Edges (Connections):**  
  Represents potential assignment of an ad to a slot.

  **Edge Weight Formula:**
  >Edge Weight = CTR* Bid


Where:
- **CTR (Click-Through Rate):** Predicted probability of a user clicking the ad  
- **Bid:** Amount advertiser is willing to pay per click  

â¡ï¸ Together, this gives the **expected revenue per impression**

---

## ğŸ§  Final Objective

Select ad-slot pairings that **maximize total expected revenue** while preserving user experience â€” at **Google scale**, this must happen **in real time**, billions of times per day.

---

## âš™ï¸ Algorithm Used

Google uses the **Hungarian Algorithm (Munkres Algorithm)** to compute the optimal ad-slot assignment.

### âœ… Benefits

- Maximizes total expected revenue or engagement  
- Respects fairness, relevance, and policy constraints  
- Scales to real-time demands using heuristics and parallelism  

| Metric             | Value       | Description                                             |
|--------------------|-------------|---------------------------------------------------------|
| â³ Time Complexity  | `O(nÂ³)`     | `n` = number of ads (or slots); assumes a square matrix |
| ğŸ§  Space Complexity | `O(nÂ²)`     | Stores the cost matrix and matching information         |

---


## ğŸ“Š Visualization
<br/>

<p align="center">
  <img 
    src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/63/Hungarian_algorithm_unbalanced_assignment_problem_example.svg/1280px-Hungarian_algorithm_unbalanced_assignment_problem_example.svg.png" 
    alt="Assignment Problem Graph" 
    width="70%" 
    style="border: 2px solid #555; border-radius: 12px; padding: 5px;">
</p>

<figcaption style="text-align: center; font-style: italic;">
  Figure: Visualization of the Hungarian Algorithm for Unbalanced Assignment Problem
</figcaption>

<br/>

- **Left:** Ads  
- **Right:** Display Slots  
- **Edges:** CTR Ã— Bid  
- **Goal:** Maximize sum of selected edges

---

## ğŸ§‘â€ğŸ’» Code Reference

ğŸ‘‰ [Assignment Problem](https://github.com/Shreshta001/aps_portfolio.github.io/blob/main/codes/1.cpp).

---

## ğŸŒ Real-World Use in Google Ads

| Feature                | Impact                                                             |
|------------------------|--------------------------------------------------------------------|
| ğŸ¯ Ad Matching          | Optimal allocation based on bids and CTR                          |
| ğŸ’° Revenue Optimization | Maximizes expected revenue per impression                         |
| âš¡ Real-Time Scaling     | Handles billions of ad-slot pairings efficiently                  |
| ğŸ¤– Better UX            | Shows more relevant ads to users, increasing click-through rates   |
| ğŸ” Policy Compliance    | Respects targeting, budgets, and content guidelines                |

---

## ğŸ“š References

- Kuhn, H. W. (1955). *The Hungarian Method for the Assignment Problem*  
- Google's AdWords auction whitepapers  
- [Wikipedia: Assignment Problem](https://en.wikipedia.org/wiki/Assignment_problem)


---

[â¬… back to home](./README.md)

